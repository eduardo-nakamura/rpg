function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ESPs:function(t,e,o){"use strict";o.r(e);var n=o("ofXK"),c=o("3Pt+"),r=o("+0xr"),i=o("tyNb"),a=o("fXoL"),b=o("yTNM");function l(t,e){if(1&t&&(a.Tb(0,"div",2),a.Tb(1,"h3",29),a.yc(2," Moedas "),a.Sb(),a.Tb(3,"div",30),a.Tb(4,"p",3),a.yc(5),a.Sb(),a.Sb(),a.Sb()),2&t){var o=a.fc();a.Cb(5),a.Ac(" ",o.lootShow.money," ")}}function u(t,e){if(1&t&&(a.Tb(0,"div",2),a.Tb(1,"h3",29),a.yc(2," Tesouro "),a.Sb(),a.Tb(3,"div",30),a.Tb(4,"p",3),a.yc(5),a.Sb(),a.Sb(),a.Sb()),2&t){var o=a.fc();a.Cb(5),a.Ac(" ",o.lootShow.gemArts," ")}}function s(t,e){if(1&t&&(a.Tb(0,"p",3),a.yc(1),a.Sb()),2&t){var o=e.$implicit;a.Cb(1),a.Ac(" ",o," ")}}function v(t,e){if(1&t&&(a.Tb(0,"div",2),a.Tb(1,"h3",29),a.yc(2," Itens M\xe1gicos "),a.Sb(),a.Tb(3,"div",30),a.xc(4,s,2,1,"p",31),a.Sb(),a.Sb()),2&t){var o=a.fc();a.Cb(4),a.kc("ngForOf",o.lootShow.magItems)}}function f(t,e){1&t&&(a.Tb(0,"div",2),a.Tb(1,"div",32),a.Tb(2,"p",3),a.yc(3," Sem Loot "),a.Sb(),a.Sb(),a.Sb())}function h(t,e){if(1&t&&(a.Tb(0,"option",33),a.yc(1),a.Sb()),2&t){var o=e.$implicit;a.kc("value",o),a.Cb(1),a.Ac(" ",o," ")}}function d(t,e){1&t&&(a.Tb(0,"th",34),a.Tb(1,"p"),a.yc(2,"Cobre"),a.Sb(),a.Sb())}function m(t,e){if(1&t&&(a.Tb(0,"td",35),a.Tb(1,"p"),a.yc(2),a.gc(3,"number"),a.Sb(),a.Sb()),2&t){var o=e.$implicit;a.Cb(2),a.Ac(" ",a.hc(3,1,o.cobre),"")}}function p(t,e){1&t&&(a.Tb(0,"th",34),a.Tb(1,"p"),a.yc(2,"Prata"),a.Sb(),a.Sb())}function S(t,e){if(1&t&&(a.Tb(0,"td",35),a.Tb(1,"p"),a.yc(2),a.gc(3,"number"),a.Sb(),a.Sb()),2&t){var o=e.$implicit;a.Cb(2),a.zc(a.hc(3,1,o.prata))}}function T(t,e){1&t&&(a.Tb(0,"th",34),a.Tb(1,"p"),a.yc(2,"Electrum"),a.Sb(),a.Sb())}function g(t,e){if(1&t&&(a.Tb(0,"td",35),a.Tb(1,"p"),a.yc(2),a.gc(3,"number"),a.Sb(),a.Sb()),2&t){var o=e.$implicit;a.Cb(2),a.Ac("",a.hc(3,1,o.electrum)," ")}}function C(t,e){1&t&&(a.Tb(0,"th",34),a.Tb(1,"p"),a.yc(2,"Ouro"),a.Sb(),a.Sb())}function y(t,e){if(1&t&&(a.Tb(0,"td",35),a.Tb(1,"p"),a.yc(2),a.gc(3,"number"),a.Sb(),a.Sb()),2&t){var o=e.$implicit;a.Cb(2),a.zc(a.hc(3,1,o.ouro))}}function w(t,e){1&t&&(a.Tb(0,"th",34),a.Tb(1,"p"),a.yc(2,"Platina"),a.Sb(),a.Sb())}function k(t,e){if(1&t&&(a.Tb(0,"td",35),a.Tb(1,"p"),a.yc(2),a.gc(3,"number"),a.Sb(),a.Sb()),2&t){var o=e.$implicit;a.Cb(2),a.zc(a.hc(3,1,o.platina))}}function x(t,e){1&t&&a.Ob(0,"tr",36)}function L(t,e){1&t&&a.Ob(0,"tr",37)}var I,O,D=[{cobre:0,prata:0,electrum:0,ouro:0,platina:0}],M=[{path:"",component:(I=function(){function t(e){_classCallCheck(this,t),this.apiService=e,this.lootShow={money:"",gemArts:"",magItems:[]},this.lootNone=!1,this.selectOptions=["Cobre","Prata","Electrum","Ouro","Platina"],this.selectedOption="Escolha uma Moeda",this.displayedColumnsConvert=["cobre","prata","electrum","ouro","platina"],this.dataSourceConvert=new r.k(D)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"genLoot",value:function(t){var e=this;this.reset();var o=this.rollDice(100);this.switch(t),setTimeout((function(){var t=e.lootSelected.filter((function(t){return t.roll>=o}))[0];Object.keys(t).forEach((function(o){if(t[o].quant){var n,c=new Array(parseInt(t[o].quant)).fill(null),r=(c=c.map((function(){return e.rollDice(t[o].sides,1)}))).reduce((function(t,e){return t+e}),0);"piece1"==o&&(e.lootShow.money+=r*t[o].multiply,e.lootShow.money+=" ".concat(t[o].type)),"piece2"==o&&(e.lootShow.money+=", "+r*t[o].multiply,e.lootShow.money+=" ".concat(t[o].type)),"gemArt"==o&&("Gemas"==t[o].type?e.apiService.gems().subscribe((function(n){e.ObjGem(r,n[t[o].table],t,o)})):e.apiService.art().subscribe((function(n){e.ObjGem(r,n[t[o].table],t,o)}))),("magItemA"==o||"magItemB"==o)&&(e.apiService.magItem().subscribe((function(e){n=e[t[o].table]})),setTimeout((function(){for(var c=e.rollDice(t[o].sides),r=new Array(c).fill(""),i=function(t){var o=e.rollDice(100),c=n.filter((function(t){return t.roll>=o}));r[t]+="\u2022 ".concat(c[0].name,", LDJ pg.").concat(c[0].page)},a=0;a<c;a++)i(a);e.lootShow.magItems=r}),300))}}))}),300),setTimeout((function(){e.lootNone=0==e.lootShow.magItems.length&&""==e.lootShow.gemArts&&""==e.lootShow.money}),650)}},{key:"ObjGem",value:function(t,e,o,n){var c=this,r=new Array(parseInt(t)).fill(null);r=r.map((function(){return" "+e[c.rollDice(e.length-1)]})),this.lootShow.gemArts+=r,this.lootShow.gemArts+=" (".concat(r.length*parseInt(o[n].table)," GP Total)")}},{key:"switch",value:function(t){var e=this;switch(t){case 1:this.apiService.getLootIndividual0to4().subscribe((function(t){return e.lootSelected=t}));break;case 2:this.apiService.getLootIndividual5to10().subscribe((function(t){return e.lootSelected=t}));break;case 3:this.apiService.getLootIndividual11to16().subscribe((function(t){return e.lootSelected=t}));break;case 4:this.apiService.getLootIndividual17plus().subscribe((function(t){return e.lootSelected=t}));break;case 5:this.apiService.getLootHoard0to4().subscribe((function(t){return e.lootSelected=t}));break;case 6:this.apiService.getLootHoard5to10().subscribe((function(t){return e.lootSelected=t}));break;case 7:this.apiService.getLootHoard11to16().subscribe((function(t){return e.lootSelected=t}));break;case 8:this.apiService.getLootHoard17plus().subscribe((function(t){return e.lootSelected=t}))}}},{key:"reset",value:function(){this.lootShow={money:"",gemArts:"",magItems:[]}}},{key:"convertPiece",value:function(){switch(this.selectedOption){case"Cobre":D[0].cobre=this.valorToConvert,D[0].prata=this.valorToConvert/10,D[0].electrum=this.valorToConvert/50,D[0].ouro=this.valorToConvert/100,D[0].platina=this.valorToConvert/1e3;break;case"Prata":D[0].cobre=10*this.valorToConvert,D[0].prata=this.valorToConvert,D[0].electrum=this.valorToConvert/5,D[0].ouro=this.valorToConvert/10,D[0].platina=this.valorToConvert/100;break;case"Electrum":D[0].cobre=50*this.valorToConvert,D[0].prata=5*this.valorToConvert,D[0].electrum=this.valorToConvert,D[0].ouro=this.valorToConvert/2,D[0].platina=this.valorToConvert/20;break;case"Ouro":D[0].cobre=100*this.valorToConvert,D[0].prata=10*this.valorToConvert,D[0].electrum=2*this.valorToConvert,D[0].ouro=this.valorToConvert,D[0].platina=this.valorToConvert/10;break;case"Platina":D[0].cobre=1e3*this.valorToConvert,D[0].prata=100*this.valorToConvert,D[0].electrum=20*this.valorToConvert,D[0].ouro=10*this.valorToConvert,D[0].platina=this.valorToConvert}}},{key:"rollDice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}]),t}(),I.\u0275fac=function(t){return new(t||I)(a.Nb(b.a))},I.\u0275cmp=a.Hb({type:I,selectors:[["app-loot-generator"]],decls:77,vars:10,consts:[[1,"container"],[1,"row","bg-header","mt-3","pl-2","pt-2"],[1,"row"],[1,"text-white"],[1,"row","bg-grunge-black","mt-3","pb-2"],[1,"col-12","pt-2","pb-2"],[1,"col"],[1,"btn","btn-danger","w-100",3,"click"],["class","row",4,"ngIf"],[1,"bg-table"],[1,"row","p-3","bg-grunge-black","justify-content-center"],[1,"col-6","col-sm-4"],["min","0","type","number","value","Valor","required","",1,"form-control","flex-fill",3,"ngModel","ngModelChange"],["required","","id","piece","name","piece",1,"custom-select","flex-fill",3,"ngModel","ngModelChange"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4"],[1,"btn","bg-danger","w-100","text-white",3,"click"],[1,"col-12"],["mat-table","",1,"bg-convert","w-100",3,"dataSource"],["matColumnDef","cobre"],["mat-header-cell","","class","text-light text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-light text-center",4,"matCellDef"],["matColumnDef","prata"],["matColumnDef","electrum"],["matColumnDef","ouro"],["matColumnDef","platina"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"text-white","w-100","p-2"],[1,"col-12","bg-grunge-black","p-3"],["class","text-white",4,"ngFor","ngForOf"],[1,"col-12","mt-3","bg-danger","p-3"],[3,"value"],["mat-header-cell","",1,"text-light","text-center"],["mat-cell","",1,"text-light","text-center"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"h2"),a.yc(3,"Loot Generator"),a.Sb(),a.Sb(),a.Tb(4,"div",2),a.Tb(5,"h3",3),a.yc(6,"Determine o tipo e n\xedvel do encontro"),a.Sb(),a.Sb(),a.Tb(7,"div",4),a.Tb(8,"div",5),a.Tb(9,"p",3),a.yc(10,"Tesouro individual"),a.Sb(),a.Sb(),a.Tb(11,"div",6),a.Tb(12,"button",7),a.bc("click",(function(t){return e.genLoot(1)})),a.yc(13,"0-4"),a.Sb(),a.Sb(),a.Tb(14,"div",6),a.Tb(15,"button",7),a.bc("click",(function(t){return e.genLoot(2)})),a.yc(16,"5-10"),a.Sb(),a.Sb(),a.Tb(17,"div",6),a.Tb(18,"button",7),a.bc("click",(function(t){return e.genLoot(3)})),a.yc(19,"11-16"),a.Sb(),a.Sb(),a.Tb(20,"div",6),a.Tb(21,"button",7),a.bc("click",(function(t){return e.genLoot(4)})),a.yc(22,"17+"),a.Sb(),a.Sb(),a.Sb(),a.Tb(23,"div",4),a.Tb(24,"div",5),a.Tb(25,"p",3),a.yc(26,"Reservas de tesouro"),a.Sb(),a.Sb(),a.Tb(27,"div",6),a.Tb(28,"button",7),a.bc("click",(function(t){return e.genLoot(5)})),a.yc(29,"0-4"),a.Sb(),a.Sb(),a.Tb(30,"div",6),a.Tb(31,"button",7),a.bc("click",(function(t){return e.genLoot(6)})),a.yc(32,"5-10"),a.Sb(),a.Sb(),a.Tb(33,"div",6),a.Tb(34,"button",7),a.bc("click",(function(t){return e.genLoot(7)})),a.yc(35,"11-16"),a.Sb(),a.Sb(),a.Tb(36,"div",6),a.Tb(37,"button",7),a.bc("click",(function(t){return e.genLoot(8)})),a.yc(38,"17+"),a.Sb(),a.Sb(),a.Sb(),a.xc(39,l,6,1,"div",8),a.xc(40,u,6,1,"div",8),a.xc(41,v,5,1,"div",8),a.xc(42,f,4,0,"div",8),a.Tb(43,"div",1),a.Tb(44,"h2"),a.yc(45,"Conversor de Moedas"),a.Sb(),a.Sb(),a.Tb(46,"div",9),a.Tb(47,"div",10),a.Tb(48,"div",11),a.Tb(49,"input",12),a.bc("ngModelChange",(function(t){return e.valorToConvert=t})),a.Sb(),a.Sb(),a.Tb(50,"div",11),a.Tb(51,"select",13),a.bc("ngModelChange",(function(t){return e.selectedOption=t})),a.Tb(52,"option",14),a.yc(53,"Escolha uma Moeda"),a.Sb(),a.xc(54,h,2,2,"option",15),a.Sb(),a.Sb(),a.Tb(55,"div",16),a.Tb(56,"button",17),a.bc("click",(function(t){return e.convertPiece()})),a.yc(57,"Converter"),a.Sb(),a.Sb(),a.Tb(58,"div",18),a.Tb(59,"table",19),a.Rb(60,20),a.xc(61,d,3,0,"th",21),a.xc(62,m,4,3,"td",22),a.Qb(),a.Rb(63,23),a.xc(64,p,3,0,"th",21),a.xc(65,S,4,3,"td",22),a.Qb(),a.Rb(66,24),a.xc(67,T,3,0,"th",21),a.xc(68,g,4,3,"td",22),a.Qb(),a.Rb(69,25),a.xc(70,C,3,0,"th",21),a.xc(71,y,4,3,"td",22),a.Qb(),a.Rb(72,26),a.xc(73,w,3,0,"th",21),a.xc(74,k,4,3,"td",22),a.Qb(),a.xc(75,x,1,0,"tr",27),a.xc(76,L,1,0,"tr",28),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&t&&(a.Cb(39),a.kc("ngIf",e.lootShow.money),a.Cb(1),a.kc("ngIf",e.lootShow.gemArts),a.Cb(1),a.kc("ngIf",0!=e.lootShow.magItems.length),a.Cb(1),a.kc("ngIf",e.lootNone),a.Cb(7),a.kc("ngModel",e.valorToConvert),a.Cb(2),a.kc("ngModel",e.selectedOption),a.Cb(3),a.kc("ngForOf",e.selectOptions),a.Cb(5),a.kc("dataSource",e.dataSourceConvert),a.Cb(16),a.kc("matHeaderRowDef",e.displayedColumnsConvert),a.Cb(1),a.kc("matRowDefColumns",e.displayedColumnsConvert))},directives:[n.l,c.i,c.a,c.k,c.e,c.g,c.l,c.h,c.m,n.k,r.j,r.c,r.e,r.b,r.g,r.i,r.d,r.a,r.f,r.h],pipes:[n.e],styles:[""]}),I)}],A=((O=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:O}),O.\u0275inj=a.Kb({factory:function(t){return new(t||O)},imports:[[i.c.forChild(M)],i.c]}),O);o.d(e,"LootGeneratorModule",(function(){return R}));var P,R=((P=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:P}),P.\u0275inj=a.Kb({factory:function(t){return new(t||P)},imports:[[n.c,A,c.c,r.l]]}),P)}}]);